<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Bar La Zisola - Menu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root { --shadow: 0 2px 6px rgba(0,0,0,0.3); }
    body {font-family: Arial, sans-serif; margin:0; background:#fdfdfd;}
    nav {
      position:sticky; top:0; z-index:1000;
      display:flex; align-items:center; justify-content:space-between;
      background:linear-gradient(135deg,#ff7043,#d84315);
      padding:12px 20px; color:#fff;
      box-shadow: var(--shadow);
    }
    nav a {color:white; margin-right:20px; text-decoration:none; font-weight:bold;}
    nav .cart {font-size:2.2em; cursor:pointer; position:relative;}
    nav .cart span {
      position:absolute; top:-8px; right:-10px;
      background:white; color:#d84315;
      font-size:0.7em; font-weight:bold;
      padding:2px 5px; border-radius:50%;
    }
    h1 {text-align:center; margin:20px; color:#d84315;}
    .box {background:#fff; border-radius:10px; padding:15px; margin:15px auto; max-width:700px; box-shadow:0 2px 8px rgba(0,0,0,0.1);}
    .panino h3 {margin:0 0 6px 0; color:#d84315;}
    .panino p {margin:0 0 10px 0; font-style:italic; color:#555;}
    .panino label {display:block; margin:4px 0;}
    .panino select, .panino textarea, .panino input[type="number"], #cliente, #telefono {
      width:100%; padding:8px; margin:6px 0; border:1px solid #ccc; border-radius:6px;
    }
    .panino textarea {resize:vertical; min-height:60px;}
    .controls {text-align:center; margin:24px;}
    button {
      background:#25D366; color:white; border:none; padding:12px 25px;
      border-radius:8px; font-size:1.1em; font-weight:bold; cursor:pointer;
      box-shadow:0 2px 6px rgba(0,0,0,0.15);
    }
    button:hover {background:#128C7E;}
    .modal {
      display:none; position:fixed; top:0; left:0; width:100%; height:100%;
      background:rgba(0,0,0,0.6); z-index:2000; justify-content:center; align-items:center;
    }
    .modal-content {
      background:white; padding:20px; border-radius:10px;
      max-width:600px; width:90%; max-height:80%; overflow-y:auto;
      box-shadow:0 2px 10px rgba(0,0,0,0.3);
    }
    .modal h2 {margin-top:0; color:#d84315;}
    .ordine-item {border-bottom:1px solid #ddd; padding:8px 0;}
    .ordine-item span {display:block; margin-bottom:4px;}
    .ordine-item input[type="number"] {width:60px; margin-right:10px;}
    .ordine-item button {
      background:red; color:white; border:none; padding:5px 10px;
      border-radius:5px; cursor:pointer; font-size:0.9em;
    }
    .close {float:right; font-size:1.5em; cursor:pointer; color:#333;}
    .totale {margin-top:15px; font-weight:bold; text-align:right; color:#d84315;}
  </style>
</head>
<body>

<nav>
  <div><a href="index.html">Home</a> <a href="contatti.html">Contatti</a></div>
  <div class="cart" onclick="apriCarrello()">üõí<span id="cart-count">0</span></div>
</nav>

<h1>Menu Panini</h1>

<div class="box">
  <label><strong>Il tuo nome:</strong></label>
  <input type="text" id="cliente" placeholder="Scrivi qui il tuo nome...">
  <label><strong>Il tuo telefono:</strong></label>
  <input type="text" id="telefono" placeholder="Scrivi qui il tuo numero...">
</div>

<!-- Carne di cavallo -->
<div class="box panino" data-base="Carne di cavallo">
  <label><input type="checkbox" class="attivo" onchange="aggiornaCarrello()"> Seleziona</label>
  <h3>Panino con carne di cavallo</h3>
  <p>Base: carne di cavallo, cipolla</p>
  <label>Quantit√†:<input type="number" min="1" value="1" class="quantita" onchange="aggiornaCarrello()"></label>
  <label>Tipo pane:<select class="pane"><option>Ciabatta croccante</option><option>Morbido</option></select></label>
  <label>Variante:<select class="variante"><option>Cipolla fresca</option><option>Cipolla caramellata</option></select></label>
  <strong>Extra:</strong>
  <label><input type="checkbox" value="Formaggio" class="extra"> Formaggio</label>
  <label><input type="checkbox" value="Funghi piccanti" class="extra"> Funghi piccanti</label>
  <label><input type="checkbox" value="Rucola" class="extra"> Rucola</label>
  <label><input type="checkbox" value="Patatine" class="extra"> Patatine</label>
  <label><input type="checkbox" value="Riscaldato" class="extra"> Riscaldato</label>
  <textarea placeholder="Note extra..."></textarea>
</div>

<!-- Bresaola -->
<div class="box panino" data-base="Bresaola">
  <label><input type="checkbox" class="attivo" onchange="aggiornaCarrello()"> Seleziona</label>
  <h3>Panino con bresaola</h3>
  <p>Base: bresaola, rucola, parmigiano</p>
  <label>Quantit√†:<input type="number" min="1" value="1" class="quantita" onchange="aggiornaCarrello()"></label>
  <label>Tipo pane:<select class="pane"><option>Ciabatta croccante</option><option>Morbido</option></select></label>
  <label>Variante:<select class="variante"><option>Parmigiano a scaglie</option><option>Grana Padano</option></select></label>
  <strong>Extra:</strong>
  <label><input type="checkbox" value="Pomodoro" class="extra"> Pomodoro</label>
  <label><input type="checkbox" value="Mozzarella" class="extra"> Mozzarella</label>
  <label><input type="checkbox" value="Funghi piccanti" class="extra"> Funghi piccanti</label>
  <label><input type="checkbox" value="Riscaldato" class="extra"> Riscaldato</label>
  <textarea placeholder="Note extra..."></textarea>
</div>

<!-- Porchetta -->
<div class="box panino" data-base="Porchetta">
  <label><input type="checkbox" class="attivo" onchange="aggiornaCarrello()"> Seleziona</label>
  <h3>Panino con porchetta</h3>
  <p>Base: porchetta</p>
  <label>Quantit√†:<input type="number" min="1" value="1" class="quantita" onchange="aggiornaCarrello()"></label>
  <label>Tipo pane:<select class="pane"><option>Ciabatta croccante</option><option>Morbido</option></select></label>
  <label>Variante:<select class="variante"><option>Semplice</option><option>Speziata</option></select></label>
  <strong>Extra:</strong>
  <label><input type="checkbox" value="Cipolla" class="extra"> Cipolla</label>
  <label><input type="checkbox" value="Peperoni" class="extra"> Peperoni</label>
  <label><input type="checkbox" value="Patatine" class="extra"> Patatine</label>
  <label><input type="checkbox" value="Riscaldato" class="extra"> Riscaldato</label>
  <textarea placeholder="Note extra..."></textarea>
</div>

<!-- Mortadella -->
<div class="box panino" data-base="Mortadella">
  <label><input type="checkbox" class="attivo" onchange="aggiornaCarrello()"> Seleziona</label>
  <h3>Panino con mortadella</h3>
  <p>Base: mortadella</p>
  <label>Quantit√†:<input type="number" min="1" value="1" class="quantita" onchange="aggiornaCarrello()"></label>
  <label>Tipo pane:<select class="pane"><option>Ciabatta croccante</option><option>Morbido</option></select></label>
  <label>Variante:<select class="variante"><option>Classica</option><option>Con pistacchi</option></select></label>
  <strong>Extra:</strong>
  <label><input type="checkbox" value="Pomodoro" class="extra"> Pomodoro</label>
  <label><input type="checkbox" value="Formaggio" class="extra"> Formaggio</label>
  <label><input type="checkbox" value="Riscaldato" class="extra"> Riscaldato</label>
  <textarea placeholder="Note extra..."></textarea>
</div>

<!-- Prosciutto crudo -->
<div class="box panino" data-base="Prosciutto crudo">
  <label><input type="checkbox" class="attivo" onchange="aggiornaCarrello()"> Seleziona</label>
  <h3>Panino con prosciutto crudo</h3>
  <p>Base: prosciutto crudo</p>
  <label>Quantit√†:<input type="number" min="1" value="1" class="quantita" onchange="aggiornaCarrello()"></label>
  <label>Tipo pane:<select class="pane"><option>Ciabatta croccante</option><option>Morbido</option></select></label>
  <label>Variante:<select class="variante"><option>Dolce</option><option>Stagionato</option></select></label>
  <strong>Extra:</strong>
  <label><input type="checkbox" value="Mozzarella" class="extra"> Mozzarella</label>
  <label><input type="checkbox" value="Pomodoro" class="extra"> Pomodoro</label>
  <label><input type="checkbox" value="Insalata" class="extra"> Insalata</label>
  <label><input type="checkbox" value="Riscaldato" class="extra"> Riscaldato</label>
  <textarea placeholder="Note extra..."></textarea>
</div>

<!-- Prosciutto cotto -->
<div class="box panino" data-base="Prosciutto cotto">
  <label><input type="checkbox" class="attivo" onchange="aggiornaCarrello()"> Seleziona</label>
  <h3>Panino con prosciutto cotto</h3>
  <p>Base: prosciutto cotto</p>
  <label>Quantit√†:<input type="number" min="1" value="1" class="quantita" onchange="aggiornaCarrello()"></label>
  <label>Tipo pane:<select class="pane"><option>Ciabatta croccante</option><option>Morbido</option></select></label>
  <label>Variante:<select class="variante"><option>Alta qualit√†</option><option>Affumicato</option></select></label>
  <strong>Extra:</strong>
  <label><input type="checkbox" value="Formaggio" class="extra"> Formaggio</label>
  <label><input type="checkbox" value="Maionese" class="extra"> Maionese</label>
  <label><input type="checkbox" value="Riscaldato" class="extra"> Riscaldato</label>
  <textarea placeholder="Note extra..."></textarea>
</div>

<!-- Salame -->
<div class="box panino" data-base="Salame">
  <label><input type="checkbox" class="attivo" onchange="aggiornaCarrello()"> Seleziona</label>
  <h3>Panino con salame</h3>
  <p>Base: salame</p>
  <label>Quantit√†:<input type="number" min="1" value="1" class="quantita" onchange="aggiornaCarrello()"></label>
  <label>Tipo pane:<select class="pane"><option>Ciabatta croccante</option><option>Morbido</option></select></label>
  <label>Variante:<select class="variante"><option>Milano</option><option>Ungherese</option><option>Napoli</option></select></label>
  <strong>Extra:</strong>
  <label><input type="checkbox" value="Formaggio" class="extra"> Formaggio</label>
  <label><input type="checkbox" value="Pomodoro" class="extra"> Pomodoro</label>
  <label><input type="checkbox" value="Rucola" class="extra"> Rucola</label>
  <label><input type="checkbox" value="Riscaldato" class="extra"> Riscaldato</label>
  <textarea placeholder="Note extra..."></textarea>
</div>

<!-- Pancetta -->
<div class="box panino" data-base="Pancetta">
  <label><input type="checkbox" class="attivo" onchange="aggiornaCarrello()"> Seleziona</label>
  <h3>Panino con pancetta</h3>
  <p>Base: pancetta</p>
  <label>Quantit√†:<input type="number" min="1" value="1" class="quantita" onchange="aggiornaCarrello()"></label>
  <label>Tipo pane:<select class="pane"><option>Ciabatta croccante</option><option>Morbido</option></select></label>
  <label>Variante:<select class="variante"><option>Arrostita</option><option>Affumicata</option></select></label>
  <strong>Extra:</strong>
  <label><input type="checkbox" value="Pomodoro" class="extra"> Pomodoro</label>
  <label><input type="checkbox" value="Cipolla" class="extra"> Cipolla</label>
  <label><input type="checkbox" value="Patatine" class="extra"> Patatine</label>
  <label><input type="checkbox" value="Riscaldato" class="extra"> Riscaldato</label>
  <textarea placeholder="Note extra..."></textarea>
</div>

<!-- Caprese -->
<div class="box panino" data-base="Caprese">
  <label><input type="checkbox" class="attivo" onchange="aggiornaCarrello()"> Seleziona</label>
  <h3>Panino caprese</h3>
  <p>Base: mozzarella, pomodoro, basilico</p>
  <label>Quantit√†:<input type="number" min="1" value="1" class="quantita" onchange="aggiornaCarrello()"></label>
  <label>Tipo pane:<select class="pane"><option>Ciabatta croccante</option><option>Morbido</option></select></label>
  <label>Variante:<select class="variante"><option>Mozzarella fiordilatte</option><option>Bufala DOP</option></select></label>
  <strong>Extra:</strong>
  <label><input type="checkbox" value="Origano" class="extra"> Origano</label>
  <label><input type="checkbox" value="Olio extravergine" class="extra"> Olio extravergine</label>
  <label><input type="checkbox" value="Rucola" class="extra"> Rucola</label>
  <label><input type="checkbox" value="Funghi piccanti" class="extra"> Funghi piccanti</label>
  <label><input type="checkbox" value="Riscaldato" class="extra"> Riscaldato</label>
  <textarea placeholder="Note extra..."></textarea>
</div>

<div class="controls">
  <button onclick="apriCarrello()">üõí Vedi carrello</button>
</div>

<div class="modal" id="modal-carrello">
  <div class="modal-content">
    <span class="close" onclick="chiudiCarrello()">&times;</span>
    <h2>Il tuo ordine</h2>
    <div id="riepilogo"></div>
    <div class="totale" id="totale"></div>
    <div style="text-align:center; margin-top:15px;">
      <button onclick="inviaWhatsApp()">üì≤ Invia su WhatsApp</button>
      <button style="background:#d84315; margin-left:10px;" onclick="svuotaCarrello()">üóëÔ∏è Svuota carrello</button>
    </div>
  </div>
</div>

<script>
function aggiornaCarrello(){
  let c=0;
  document.querySelectorAll(".panino").forEach(p=>{
    if(p.querySelector(".attivo").checked) c+=parseInt(p.querySelector(".quantita").value)||0;
  });
  document.getElementById("cart-count").textContent=c;
}

function apriCarrello(){
  const r=document.getElementById("riepilogo"),t=document.getElementById("totale");
  r.innerHTML=""; t.innerHTML="";
  const cl=document.getElementById("cliente").value.trim();
  const tel=document.getElementById("telefono").value.trim();
  r.innerHTML+=cl?`<h3>Ecco il tuo ordine ${cl} (${tel}):</h3>`:`<h3>Ecco il tuo ordine (cliente non specificato):</h3>`;
  let i=0,tot=0;
  document.querySelectorAll(".panino").forEach(p=>{
    if(!p.querySelector(".attivo").checked)return;
    const b=p.dataset.base,q=parseInt(p.querySelector(".quantita").value),pa=p.querySelector(".pane").value,
          v=p.querySelector(".variante")?.value||"",ing=[...p.querySelectorAll(".extra:checked")].map(x=>x.value),
          n=p.querySelector("textarea").value.trim(),l=q===1?"panino":"panini";
    tot+=q;
    let d=`${b}`; if(v)d+=` (${v})`; d+=` - ${pa}`;
    if(ing.length)d+=` + ${ing.join(", ")}`; if(n)d+=` | Note: ${n}`;
    const div=document.createElement("div");
    div.className="ordine-item";
    div.innerHTML=`<span>${q} ${l} ${d}</span>
      <label>Quantit√†:<input type="number" min="1" value="${q}" onchange="modificaQuantita(${i}, this.value)"></label>
      <button onclick="rimuoviPanino(${i})">‚ùå Rimuovi</button>`;
    r.appendChild(div); i++;
  });
  if(tot>0){const l=tot===1?"panino":"panini";t.innerHTML=`Totale: ${tot} ${l}`;}
  document.getElementById("modal-carrello").style.display="flex";
}

function chiudiCarrello(){document.getElementById("modal-carrello").style.display="none";}
function modificaQuantita(i,v){const ps=[...document.querySelectorAll(".panino")].filter(p=>p.querySelector(".attivo").checked);if(ps[i]){ps[i].querySelector(".quantita").value=v;aggiornaCarrello();apriCarrello();}}
function rimuoviPanino(i){const ps=[...document.querySelectorAll(".panino")].filter(p=>p.querySelector(".attivo").checked);if(ps[i]){ps[i].querySelector(".attivo").checked=false;aggiornaCarrello();apriCarrello();}}
function svuotaCarrello(){document.querySelectorAll(".panino .attivo").forEach(c=>c.checked=false);aggiornaCarrello();apriCarrello();}

function inviaWhatsApp(){
  const cl=document.getElementById("cliente").value.trim();
  const tel=document.getElementById("telefono").value.trim();
  let d="",tot=0;
  document.querySelectorAll(".panino").forEach(p=>{
    if(!p.querySelector(".attivo").checked)return;
    const b=p.dataset.base,q=parseInt(p.querySelector(".quantita").value),pa=p.querySelector(".pane").value,
          v=p.querySelector(".variante")?.value||"",ing=[...p.querySelectorAll(".extra:checked")].map(x=>x.value),
          n=p.querySelector("textarea").value.trim(),l=q===1?"panino":"panini";
    tot+=q;
    let r=`${q} ${l} ${b}`; if(v)r+=` (${v})`; r+=` - ${pa}`;
    if(ing.length)r+=` + ${ing.join(", ")}`; if(n)r+=` | Note: ${n}`;
    d+=r+"\n";
  });
  if(!tot){alert("Carrello vuoto");return;}
  const l=tot===1?"panino":"panini";
  d+=`\nTotale: ${tot} ${l}`;
  const m=cl?`Ecco il tuo ordine ${cl} (${tel}):\n\n${d}`:`Ecco il tuo ordine (cliente non specificato):\n\n${d}`;
  window.open("https://wa.me/393384461593?text="+encodeURIComponent(m),"_blank");
}
</script>

</body>
</html>
